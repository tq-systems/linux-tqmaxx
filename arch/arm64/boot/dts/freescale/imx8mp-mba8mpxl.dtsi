// SPDX-License-Identifier: GPL-2.0-or-later OR MIT
/*
 * Copyright 2021 TQ-Systems GmbH
 */

#include <dt-bindings/net/ti-dp83867.h>

/ {
	model = "TQ-Systems i.MX8MPlus TQMa8MPxL on MBa8MPxL";
	compatible = "tq,imx8mp-mba8mpxl", "tq,imx8mp-tqma8mpxl", "fsl,imx8mp";

	aliases {
		mmc0 = &usdhc3;
		mmc1 = &usdhc2;
		mmc2 = &usdhc1;
		rtc1 = &snvs_rtc;
		rtc0 = &pcf85063;
	};

	backlight_lvds: backlight-lvds {
		compatible = "pwm-backlight";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_bllvds>;
		pwms = <&pwm2 0 5000000>;
		power-supply = <&reg_vcc_12v0>;
		enable-gpios = <&gpio3 19 GPIO_ACTIVE_HIGH>;
		status = "disabled";
	};

	chosen {
		bootargs = "console=ttymxc3,115200 earlycon=ec_imx6q,30a60000,115200";
		stdout-path = &uart4;
	};

	edp_refclk: edp-refclk {
		compatible = "fixed-clock";
		#clock-cells = <0>;
		clock-frequency = <26000000>;
		status = "disabled";
	};

	extcon_usbotg: extcon-usbotg0 {
		compatible = "linux,extcon-usb-gpio";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_usbcon0>;
		id-gpio = <&gpio1 10 GPIO_ACTIVE_HIGH>;
	};

	fan0: pwm-fan {
		compatible = "pwm-fan";
		#cooling-cells = <2>;
		pwms = <&pwm3 0 10000 0>;
		cooling-levels = <0 102 170 230>;
		status = "disabled";
	};

	gpio-keys {
		compatible = "gpio-keys";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpiobutton>;
		autorepeat;

		switch1 {
			label = "S12";
			linux,code = <BTN_0>;
			gpios = <&gpio5 26 GPIO_ACTIVE_LOW>;
			wakeup-source;
		};

		switch2 {
			label = "S13";
			linux,code = <BTN_1>;
			gpios = <&gpio5 27 GPIO_ACTIVE_LOW>;
			wakeup-source;
		};
	};

	gpio-leds {
		compatible = "gpio-leds";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_gpioled>;

		led0 {
			label = "led0";
			gpios = <&gpio5 5 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "default-on";
		};

		led1 {
			label = "led1";
			gpios = <&gpio5 4 GPIO_ACTIVE_HIGH>;
			linux,default-trigger = "heartbeat";
		};

		led2 {
			label = "led2";
			gpios = <&gpio5 3 GPIO_ACTIVE_HIGH>;
		};
	};

	memory@40000000 {
		device_type = "memory";
		reg = <0x0 0x40000000 0 0x40000000>;
	};

	lvdspanel: panel {
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_lvdspanel>;
		enable-gpios = <&gpio3 20 GPIO_ACTIVE_HIGH>;
		backlight = <&backlight_lvds>;
		status = "disabled";

		port {
			panel_in_lvds0: endpoint {
				remote-endpoint = <&lvds_out>;
			};
		};
	};

	resmem: reserved-memory {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		ocram: ocram@900000 {
			no-map;
			reg = <0 0x900000 0 0x70000>;
		};

/*
 *		Memory reserved for optee usage. Please do not use.
 *		This will be automatically added to dtb if OP-TEE is installed.
 *		optee@56000000 {
 *			reg = <0 0x56000000 0 0x2000000>;
 *			no-map;
 *		};
 */
		/* global autoconfigured region for contiguous allocations */
		linux,cma {
			compatible = "shared-dma-pool";
			reusable;
			size = <0 0x38000000>;
			alloc-ranges = <0 0x40000000 0 0xB0000000>;
			linux,cma-default;
		};

		dsp_reserved: dsp@92400000 {
			no-map;
			reg = <0 0x92400000 0 0x2000000>;
		};
	};

	reg_otg_vbus: regulator-otg-vbus {
		compatible = "regulator-fixed";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_regotgvbus>;
		regulator-name = "OTG_VBUS";
		regulator-min-microvolt = <5000000>;
		regulator-max-microvolt = <5000000>;
		gpio = <&gpio1 12 GPIO_ACTIVE_HIGH>;
		enable-active-high;
	};

	reg_usdhc2_vmmc: regulator-usdhc2 {
		compatible = "regulator-fixed";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_reg_usdhc2_vmmc>;
		regulator-name = "VSD_3V3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
		gpio = <&gpio2 19 GPIO_ACTIVE_HIGH>;
		enable-active-high;
		startup-delay-us = <100>;
		off-on-delay-us = <12000>;
	};

	reg_vcc_12v0: regulator-12v0 {
		compatible = "regulator-fixed";
		regulator-name = "VCC_12V0";
		regulator-min-microvolt = <12000000>;
		regulator-max-microvolt = <12000000>;
	};

	reg_vcc_3v3: regulator-3v3 {
		compatible = "regulator-fixed";
		regulator-name = "VCC_3V3";
		regulator-min-microvolt = <3300000>;
		regulator-max-microvolt = <3300000>;
	};

	sound {
		compatible = "fsl,imx-audio-tlv320aic32x4";
		model = "tqm-tlv320aic32";
		ssi-controller = <&sai2>;
		audio-codec = <&codec>;
	};

	thermal-zones {
		soc-thermal {
			cooling-maps {
				map0 {
					trip = <&soc_alert0>;
					cooling-device = <&fan0 0 1>;
				};
			};
		};
	};
};

&clk {
	init-on-array = <IMX8MP_CLK_HSIO_ROOT>;
};

&easrc {
	fsl,asrc-rate  = <48000>;
	status = "okay";
};

&ecspi1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_ecspi1>;
	cs-gpios = <&gpio5 9 GPIO_ACTIVE_LOW>;
	fsl,spi-num-chipselects = <1>;
	num-cs = <1>;
	status = "okay";

	spidev1_0: spidev@0 {
		reg = <0>;
		compatible = "tq,testdev";
		spi-max-frequency = <5000000>;
	};
};

&ecspi2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_ecspi2>;
	cs-gpios = <&gpio5 13 GPIO_ACTIVE_LOW>;
	fsl,spi-num-chipselects = <1>;
	num-cs = <1>;
	status = "okay";

	spidev2_0: spidev@0 {
		reg = <0>;
		compatible = "tq,testdev";
		spi-max-frequency = <5000000>;
	};
};

&ecspi3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_ecspi3>;
	cs-gpios = <&gpio5 25 GPIO_ACTIVE_LOW>;
	fsl,spi-num-chipselects = <1>;
	num-cs = <1>;
	status = "okay";

	spidev3_0: spidev@0 {
		reg = <0>;
		compatible = "tq,testdev";
		spi-max-frequency = <5000000>;
	};
};

&eqos {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_eqos>;
	phy-mode = "rgmii-id";
	phy-handle = <&ethphy3>;
	phy-reset-gpios = <&gpio4 2 GPIO_ACTIVE_LOW>;
	phy-reset-duration = <500>;
	phy-reset-post-delay = <50>;
	snps,reset-gpios = <&gpio4 2 GPIO_ACTIVE_LOW>;
	snps,reset-active-low;
	snps,reset-delays-us = <0 500000 50000>;

	status = "okay";

	mdio {
		compatible = "snps,dwmac-mdio";
		#address-cells = <1>;
		#size-cells = <0>;

		ethphy3: ethernet-phy@3 {
			compatible = "ethernet-phy-ieee802.3-c22";
			reg = <3>;
			ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
			ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
			ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
			ti,dp83867-rxctrl-strap-quirk;
			ti,clk-output-sel = <DP83867_CLK_O_SEL_OFF>;
			enet-phy-lane-no-swap;
			/* LED0: Link, LED2: activity */
			ti,led-function = <0x0100>;
			/* LED0/2: active High, driven by phy function */
			ti,led-ctrl = <0x1414>;
		};
	};
};

&fec {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_fec>;
	phy-mode = "rgmii-id";
	phy-handle = <&ethphy0>;
	phy-reset-gpios = <&gpio4 0 GPIO_ACTIVE_LOW>;
	phy-reset-duration = <500>;
	phy-reset-post-delay = <50>;
	fsl,magic-packet;
	status = "okay";

	mdio {
		#address-cells = <1>;
		#size-cells = <0>;

		ethphy0: ethernet-phy@0 {
			compatible = "ethernet-phy-ieee802.3-c22";
			reg = <0>;
			ti,rx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
			ti,tx-internal-delay = <DP83867_RGMIIDCTL_2_25_NS>;
			ti,fifo-depth = <DP83867_PHYCR_FIFO_DEPTH_4_B_NIB>;
			ti,dp83867-rxctrl-strap-quirk;
			ti,clk-output-sel = <DP83867_CLK_O_SEL_OFF>;
			enet-phy-lane-no-swap;
			/* LED0: Link, LED2: activity */
			ti,led-function = <0x0100>;
			/* LED0/2: active High, driven by phy function */
			ti,led-ctrl = <0x1414>;
		};
	};
};

&flexcan1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_flexcan1>;
	status = "okay";
};

&flexcan2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_flexcan2>;
	status = "okay";
};

&gpio1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_gpio1>, <&pinctrl_usbhub>;

	gpio-line-names = "GPO0", "GPO1", "", "GPO2",
			  "", "", "GPO3", "GPI0",
			  "", "GPI1", "OTG_ID", "USB_HUB_RST#",
			  "OTG_PWR", "", "GPI2", "GPI3",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "", "";

	usb-hub-reset {
		gpio-hog;
		gpios = <11 0>;
		output-high;
		line-name = "USB_HUB_RST#";
	};
};

&gpio2 {
	gpio-line-names = "", "", "", "",
			  "", "", "", "",
			  "", "", "", "",
			  "USDHC2_CD", "", "", "",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "", "";
};

&gpio4 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_gpio4>;

	gpio-line-names = "ENET1_RST#", "", "ENET0_RST#", "",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "", "",
			  "", "", "DP_IRQ", "DSI_EN",
			  "HDMI_OC#", "", "", "",
			  "", "", "", "",
			  "", "", "", "";
};

&gpio5 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_gpio5>;

	gpio-line-names = "", "", "", "LED2",
			  "LED1", "LED0", "", "",
			  "", "ECSPI1_SS0", "", "",
			  "", "ECSPI2_SS0", "", "",
			  "", "", "", "",
			  "ECSPI3_S0", "", "", "",
			  "", "", "SWITCH_A", "SWITCH_B",
			  "", "", "", "";
};

&gpu_2d {
	status = "okay";
};

&gpu_3d {
	status = "okay";
};

&i2c1 {
	dsi2dp: bridge@f {
		compatible = "toshiba,tc358767";
		pinctrl-names = "default";
		pinctrl-0 = <&pinctrl_edpbridge>;
		reg = <0xf>;
		reset-gpios = <&gpio4 19 GPIO_ACTIVE_LOW>;
		clock-names = "ref";
		clocks = <&edp_refclk>;
		toshiba,hpd-pin = <0>;

		interrupt-names = "irq";
		interrupt-parent = <&gpio4>;
		interrupts = <18 IRQ_TYPE_LEVEL_HIGH>;

		status = "disabled";

		ports {
			#address-cells = <1>;
			#size-cells = <0>;

			port@0 {
				reg = <0>;

				tc358767_from_dsim: endpoint {
					remote-endpoint = <&dsim_to_tc358767>;
				};
			};
		};
	};

	codec: codec@18 {
		compatible = "ti,tlv320aic32x4";
		reg = <0x18>;
		clocks = <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI2_MCLK1>;
		clock-names = "mclk";
		iov-supply = <&reg_vcc_3v3>;
		ldoin-supply = <&reg_vcc_3v3>;
	};

	/* NXP SE97BTP with temperature sensor + eeprom */
	se97_1c: temperature-sensor-eeprom@1c {
		compatible = "nxp,se97", "jedec,jc-42.4-temp";
		reg = <0x1c>;
	};

	at24c02_54: eeprom@54 {
		compatible = "nxp,se97b", "atmel,24c02";
		reg = <0x54>;
		pagesize = <16>;
	};
};

&i2c2 {
	/* Errata: limit clk to <= 384000 Hz */
	clock-frequency = <384000>;
	pinctrl-names = "default", "gpio";
	pinctrl-0 = <&pinctrl_i2c2>;
	pinctrl-1 = <&pinctrl_i2c2_gpio>;
	scl-gpios = <&gpio5 16 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	sda-gpios = <&gpio5 17 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	status = "okay";
};

&i2c4 {
	/* Errata: limit clk to <= 384000 Hz */
	clock-frequency = <384000>;
	pinctrl-names = "default", "gpio";
	pinctrl-0 = <&pinctrl_i2c4>;
	pinctrl-1 = <&pinctrl_i2c4_gpio>;
	scl-gpios = <&gpio5 20 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	sda-gpios = <&gpio5 21 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	status = "okay";
};

&i2c6 {
	/* Errata: limit clk to <= 384000 Hz */
	clock-frequency = <384000>;
	pinctrl-names = "default", "gpio";
	pinctrl-0 = <&pinctrl_i2c6>;
	pinctrl-1 = <&pinctrl_i2c6_gpio>;
	scl-gpios = <&gpio2 2 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	sda-gpios = <&gpio2 3 (GPIO_ACTIVE_HIGH | GPIO_OPEN_DRAIN)>;
	status = "okay";
};

&ldb {
	lvds-channel@0 {
		port@1 {
			reg = <1>;

			lvds_out: endpoint {
				remote-endpoint = <&panel_in_lvds0>;
			};
		};
	};
};

&mipi_dsi {
	port@1 {
		dsim_to_tc358767: endpoint {
			remote-endpoint = <&tc358767_from_dsim>;
			attach-bridge;
		};
	};
};

&mix_gpu_ml {
	status = "okay";
};

&pcie{
	ext_osc = <1>;
	clocks = <&clk IMX8MP_CLK_HSIO_AXI_DIV>,
		 <&clk IMX8MP_CLK_PCIE_AUX>,
		 <&clk IMX8MP_CLK_DUMMY>,
		 <&clk IMX8MP_CLK_PCIE_ROOT>;
	clock-names = "pcie", "pcie_aux", "pcie_phy", "pcie_bus";
	assigned-clocks = <&clk IMX8MP_CLK_HSIO_AXI_SRC>,
			  <&clk IMX8MP_CLK_PCIE_AUX>;
	assigned-clock-rates = <500000000>, <10000000>;
	assigned-clock-parents = <&clk IMX8MP_SYS_PLL2_500M>,
				 <&clk IMX8MP_SYS_PLL2_50M>;
	l1ss-disabled;
	status = "okay";
};

&pcie_phy{
	ext_osc = <1>;
	status = "okay";
};

&pwm2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm2>;
	status = "disabled";
};

&pwm3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm3>;
	status = "okay";
};

&pwm4 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm4>;
	status = "okay";
};

&sai2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_sai2>;

	assigned-clocks = <&clk IMX8MP_CLK_SAI2>;
	assigned-clock-parents = <&clk IMX8MP_AUDIO_PLL1_OUT>;
/* TODO: select better of the two rates */
/*	assigned-clock-rates = <49152000>; */
	assigned-clock-rates = <12288000>;
	clocks = <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI2_IPG>,
		 <&clk IMX8MP_CLK_DUMMY>,
		 <&audiomix_clk IMX8MP_CLK_AUDIOMIX_SAI2_MCLK1>,
		 <&clk IMX8MP_CLK_DUMMY>,
		 <&clk IMX8MP_CLK_DUMMY>;
	clock-names = "bus", "mclk0", "mclk1", "mclk2", "mclk3";
	fsl,sai-mclk-direction-output;
	status = "okay";
};

&sdma2 {
	status = "okay";
};

&snvs_pwrkey {
	status = "okay";
};

&uart1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart1>;
	assigned-clocks = <&clk IMX8MP_CLK_UART1>;
	assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_80M>;
	fsl,dte-mode;
	status = "okay";
};

&uart2 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart2>;
	assigned-clocks = <&clk IMX8MP_CLK_UART2>;
	assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_80M>;
	fsl,uart-has-rtscts;
	fsl,dte-mode;
	status = "okay";
};

&uart3 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart3>;
	assigned-clocks = <&clk IMX8MP_CLK_UART3>;
	assigned-clock-parents = <&clk IMX8MP_SYS_PLL1_80M>;
	fsl,uart-has-rtscts;
	fsl,dte-mode;
	status = "okay";
};

&uart4 {
	/* console */
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_uart4>;
	status = "okay";
};

&usb3_phy0 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_usb0>;
	/*
	 * OC support needs special settings for low active polarity
	 */
	oc_low_active;
	vbus-supply = <&reg_otg_vbus>;
	status = "okay";
};

&usb3_0 {
	status = "okay";
};

&usb_dwc3_0 {
	/*
	 * use extcon gpio OTG ID detection. Older versions of driver does not
	 * support OTG ID signal. Unclear which difference is between muxable
	 * and non muxable pin for ID
	 */
	extcon = <&extcon_usbotg>;
	/* we implement dual role but not full featured OTG */
	hnp-disable;
	srp-disable;
	adp-disable;
	dr_mode = "otg";
	status = "okay";
};

&usb3_phy1 {
	disable-ppc;
	permanent_attached;
	status = "okay";
};

&usb3_1 {
	status = "okay";
};

&usb_dwc3_1 {
	dr_mode = "host";
	status = "okay";
};

&usdhc2 {
	pinctrl-names = "default", "state_100mhz", "state_200mhz";
	pinctrl-0 = <&pinctrl_usdhc2>, <&pinctrl_usdhc2_gpio>;
	pinctrl-1 = <&pinctrl_usdhc2_100mhz>, <&pinctrl_usdhc2_gpio>;
	pinctrl-2 = <&pinctrl_usdhc2_200mhz>, <&pinctrl_usdhc2_gpio>;
	cd-gpios = <&gpio2 12 GPIO_ACTIVE_LOW>;
	vmmc-supply = <&reg_usdhc2_vmmc>;
	no-mmc;
	no-sdio;
	bus-width = <4>;
	status = "okay";
};

&vpu_g1 {
	status = "okay";
};

&vpu_g2 {
	status = "okay";
};

&vpu_vc8000e {
	status = "okay";
};

&mipi_csi_0 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_mipicsi0>;
	status = "disabled";
};

&mipi_csi_1 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_mipicsi1>;
	status = "disabled";
};

&iomuxc {
	pinctrl_bllvds: bllvdsgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_RXFS__GPIO3_IO19	0x14
		>;
	};

	pinctrl_flexcan1: flexcan1grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_RXD1__CAN1_TX	0x150
			MX8MP_IOMUXC_SAI5_RXD2__CAN1_RX	0x150
		>;
	};

	pinctrl_flexcan2: flexcan2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_RXD3__CAN2_TX	0x150
			MX8MP_IOMUXC_SAI5_MCLK__CAN2_RX	0x150
		>;
	};

	pinctrl_ecspi1: ecspi1grp {
		fsl,pins = <
			MX8MP_IOMUXC_ECSPI1_MISO__ECSPI1_MISO	0x1c0
			MX8MP_IOMUXC_ECSPI1_MOSI__ECSPI1_MOSI	0x1c0
			MX8MP_IOMUXC_ECSPI1_SCLK__ECSPI1_SCLK	0x1c0
			MX8MP_IOMUXC_ECSPI1_SS0__GPIO5_IO09	0x1c0
		>;
	};

	pinctrl_ecspi2: ecspi2grp {
		fsl,pins = <
			MX8MP_IOMUXC_ECSPI2_MISO__ECSPI2_MISO	0x1c0
			MX8MP_IOMUXC_ECSPI2_MOSI__ECSPI2_MOSI	0x1c0
			MX8MP_IOMUXC_ECSPI2_SCLK__ECSPI2_SCLK	0x1c0
			MX8MP_IOMUXC_ECSPI2_SS0__GPIO5_IO13	0x1c0
		>;
	};

	pinctrl_ecspi3: ecspi3grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART1_TXD__ECSPI3_MOSI	0x1c0
			MX8MP_IOMUXC_UART1_RXD__ECSPI3_SCLK	0x1c0
			MX8MP_IOMUXC_UART2_RXD__ECSPI3_MISO	0x1c0
			MX8MP_IOMUXC_UART2_TXD__GPIO5_IO25	0x1c0
		>;
	};

	pinctrl_edpbridge: edpbridgegrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_TXD6__GPIO4_IO18	0x1c0
			MX8MP_IOMUXC_SAI1_TXD7__GPIO4_IO19	0x1c0
		>;
	};

	pinctrl_eqos: eqosgrp {
		fsl,pins = <
			/* SION + ODE + DSE_X2 */
			MX8MP_IOMUXC_ENET_MDC__ENET_QOS_MDC		0x40000044
			MX8MP_IOMUXC_ENET_MDIO__ENET_QOS_MDIO		0x40000044
			MX8MP_IOMUXC_ENET_RD0__ENET_QOS_RGMII_RD0	0x90
			MX8MP_IOMUXC_ENET_RD1__ENET_QOS_RGMII_RD1	0x90
			MX8MP_IOMUXC_ENET_RD2__ENET_QOS_RGMII_RD2	0x90
			MX8MP_IOMUXC_ENET_RD3__ENET_QOS_RGMII_RD3	0x90
			MX8MP_IOMUXC_ENET_RXC__CCM_ENET_QOS_CLOCK_GENERATE_RX_CLK	0x90
			MX8MP_IOMUXC_ENET_RX_CTL__ENET_QOS_RGMII_RX_CTL	0x90
			MX8MP_IOMUXC_ENET_TD0__ENET_QOS_RGMII_TD0	0x12
			MX8MP_IOMUXC_ENET_TD1__ENET_QOS_RGMII_TD1	0x12
			MX8MP_IOMUXC_ENET_TD2__ENET_QOS_RGMII_TD2	0x12
			MX8MP_IOMUXC_ENET_TD3__ENET_QOS_RGMII_TD3	0x12
			MX8MP_IOMUXC_ENET_TX_CTL__ENET_QOS_RGMII_TX_CTL	0x12
			MX8MP_IOMUXC_ENET_TXC__CCM_ENET_QOS_CLOCK_GENERATE_TX_CLK	0x14
			/* EVENT1_IN / RST# -> PE */
			MX8MP_IOMUXC_SAI1_RXD0__GPIO4_IO02		0x100
			/* EVENT1_OUT / INT/PD -> PE + HYS + PUE */
			MX8MP_IOMUXC_SAI1_RXD1__GPIO4_IO03		0x1c0
		>;
	};

	pinctrl_fec: fecgrp {
		fsl,pins = <
			/* SION + ODE + DSE_X2 */
			MX8MP_IOMUXC_SAI1_RXD2__ENET1_MDC		0x40000044
			MX8MP_IOMUXC_SAI1_RXD3__ENET1_MDIO		0x40000044
			MX8MP_IOMUXC_SAI1_RXD4__ENET1_RGMII_RD0		0x90
			MX8MP_IOMUXC_SAI1_RXD5__ENET1_RGMII_RD1		0x90
			MX8MP_IOMUXC_SAI1_RXD6__ENET1_RGMII_RD2		0x90
			MX8MP_IOMUXC_SAI1_RXD7__ENET1_RGMII_RD3		0x90
			MX8MP_IOMUXC_SAI1_TXC__ENET1_RGMII_RXC		0x90
			MX8MP_IOMUXC_SAI1_TXFS__ENET1_RGMII_RX_CTL	0x90
			MX8MP_IOMUXC_SAI1_TXD0__ENET1_RGMII_TD0		0x12
			MX8MP_IOMUXC_SAI1_TXD1__ENET1_RGMII_TD1		0x12
			MX8MP_IOMUXC_SAI1_TXD2__ENET1_RGMII_TD2		0x12
			MX8MP_IOMUXC_SAI1_TXD3__ENET1_RGMII_TD3		0x12
			MX8MP_IOMUXC_SAI1_TXD4__ENET1_RGMII_TX_CTL	0x12
			MX8MP_IOMUXC_SAI1_TXD5__ENET1_RGMII_TXC		0x14
			/* EVENT0_IN / RST# -> PE */
			MX8MP_IOMUXC_SAI1_RXFS__GPIO4_IO00		0x100
			/* EVENT0_OUT / INT/PD -> PE + HYS + PUE */
			MX8MP_IOMUXC_SAI1_RXC__GPIO4_IO01		0x1c0
		>;
	};

	pinctrl_gpiobutton: gpiobuttongrp {
		fsl,pins = <
			MX8MP_IOMUXC_UART3_RXD__GPIO5_IO26	0x10
			MX8MP_IOMUXC_UART3_TXD__GPIO5_IO27	0x10
		>;
	};

	pinctrl_gpioled: gpioledgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SPDIF_EXT_CLK__GPIO5_IO05	0x14
			MX8MP_IOMUXC_SPDIF_RX__GPIO5_IO04	0x14
			MX8MP_IOMUXC_SPDIF_TX__GPIO5_IO03	0x14
		>;
	};

	pinctrl_gpio1: gpio1grp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO00__GPIO1_IO00	0x10
			MX8MP_IOMUXC_GPIO1_IO01__GPIO1_IO01	0x10
			MX8MP_IOMUXC_GPIO1_IO03__GPIO1_IO03	0x10
			MX8MP_IOMUXC_GPIO1_IO06__GPIO1_IO06	0x10
			MX8MP_IOMUXC_GPIO1_IO07__GPIO1_IO07	0x80
			MX8MP_IOMUXC_GPIO1_IO09__GPIO1_IO09	0x80
			MX8MP_IOMUXC_GPIO1_IO14__GPIO1_IO14	0x80
			MX8MP_IOMUXC_GPIO1_IO15__GPIO1_IO15	0x80
		>;
	};

	pinctrl_gpio4: gpio4grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI1_MCLK__GPIO4_IO20	0x180

			MX8MP_IOMUXC_SAI3_RXFS__GPIO4_IO28	0x180
			MX8MP_IOMUXC_SAI3_RXC__GPIO4_IO29	0x180
			MX8MP_IOMUXC_SAI3_RXD__GPIO4_IO30	0x180
			MX8MP_IOMUXC_SAI3_TXFS__GPIO4_IO31	0x180
		>;
	};

	pinctrl_gpio5: gpio5grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI3_TXC__GPIO5_IO00	0x180
			MX8MP_IOMUXC_SAI3_TXD__GPIO5_IO01	0x180
		>;
	};

	pinctrl_gpt1: gpt1grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART3_RXD__GPT1_CAPTURE2	0x14
			MX8MP_IOMUXC_UART3_TXD__GPT1_CLK	0x14
		>;
	};

	pinctrl_gpt2: gpt2grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C3_SCL__GPT2_CLK		0x14
		>;
	};

	pinctrl_i2c2: i2c2grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C2_SCL__I2C2_SCL		0x400001e2
			MX8MP_IOMUXC_I2C2_SDA__I2C2_SDA		0x400001e2
		>;
	};

	pinctrl_i2c2_gpio: i2c2grp-gpio {
		fsl,pins = <
			MX8MP_IOMUXC_I2C2_SCL__GPIO5_IO16	0x400001e2
			MX8MP_IOMUXC_I2C2_SDA__GPIO5_IO17	0x400001e2
		>;
	};

	pinctrl_i2c4: i2c4grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C4_SCL__I2C4_SCL		0x400001e2
			MX8MP_IOMUXC_I2C4_SDA__I2C4_SDA		0x400001e2
		>;
	};

	pinctrl_i2c4_gpio: i2c4grp-gpio {
		fsl,pins = <
			MX8MP_IOMUXC_I2C4_SCL__GPIO5_IO20	0x400001e2
			MX8MP_IOMUXC_I2C4_SDA__GPIO5_IO21	0x400001e2
		>;
	};

	pinctrl_i2c6: i2c6grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_DATA0__I2C6_SCL	0x400001e2
			MX8MP_IOMUXC_SD1_DATA1__I2C6_SDA	0x400001e2
		>;
	};

	pinctrl_i2c6_gpio: i2c6grp-gpio {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_DATA0__GPIO2_IO02	0x400001e2
			MX8MP_IOMUXC_SD1_DATA1__GPIO2_IO03	0x400001e2
		>;
	};

	pinctrl_lvdspanel: lvdspanelgrp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_RXC__GPIO3_IO20	0x14
		>;
	};

	pinctrl_mipicsi0: mipicsi0grp {
		fsl,pins = <
			/* TRIGGER */
			MX8MP_IOMUXC_ECSPI1_MISO__GPIO5_IO08	0x1c0
			/* SYNC */
			MX8MP_IOMUXC_ECSPI1_MOSI__GPIO5_IO07	0x1c0
			/* RESET# */
			MX8MP_IOMUXC_ECSPI1_SCLK__GPIO5_IO06	0x1c0
			/* ENABLE */
			MX8MP_IOMUXC_ECSPI1_SS0__GPIO5_IO09	0x1c0
		>;
	};

	pinctrl_mipicsi1: mipicsi1grp {
		fsl,pins = <
			/* TRIGGER */
			MX8MP_IOMUXC_ECSPI2_MISO__GPIO5_IO12	0x1c0
			/* SYNC */
			MX8MP_IOMUXC_ECSPI2_MOSI__GPIO5_IO11	0x1c0
			/* RESET# */
			MX8MP_IOMUXC_ECSPI2_SCLK__GPIO5_IO10	0x1c0
			/* ENABLE */
			MX8MP_IOMUXC_ECSPI2_SS0__GPIO5_IO13	0x1c0
		>;
	};

	pinctrl_pwm2: pwm2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI5_RXD0__PWM2_OUT	0x14
		>;
	};

	pinctrl_pwm3: pwm3grp {
		fsl,pins = <
			MX8MP_IOMUXC_I2C3_SDA__PWM3_OUT		0x14
		>;
	};

	pinctrl_pwm4: pwm4grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI3_MCLK__PWM4_OUT	0x14
		>;
	};

	pinctrl_regotgvbus: reggotgvbusgrp {
		fsl,pins = <
			/* USB1 OTG PWR as GPIO */
			MX8MP_IOMUXC_GPIO1_IO12__GPIO1_IO12	0x100
		>;
	};

	pinctrl_sai2: sai2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SAI2_MCLK__AUDIOMIX_SAI2_MCLK	0x94
			MX8MP_IOMUXC_SAI2_RXC__AUDIOMIX_SAI2_RX_BCLK	0x94
			MX8MP_IOMUXC_SAI2_RXFS__AUDIOMIX_SAI2_RX_SYNC	0x94
			MX8MP_IOMUXC_SAI2_RXD0__AUDIOMIX_SAI2_RX_DATA00	0x94
			MX8MP_IOMUXC_SAI2_TXFS__AUDIOMIX_SAI2_TX_SYNC	0x94
			MX8MP_IOMUXC_SAI2_TXC__AUDIOMIX_SAI2_TX_BCLK	0x94
			MX8MP_IOMUXC_SAI2_TXD0__AUDIOMIX_SAI2_TX_DATA00	0x94
		>;
	};

	pinctrl_uart1: uart1grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_CLK__UART1_DTE_RX	0x140
			MX8MP_IOMUXC_SD1_CMD__UART1_DTE_TX	0x140
		>;
	};

	pinctrl_uart2: uart2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_DATA2__UART2_DTE_RX	0x140
			MX8MP_IOMUXC_SD1_DATA3__UART2_DTE_TX	0x140
			MX8MP_IOMUXC_SD1_DATA4__UART2_DTE_CTS	0x140
			MX8MP_IOMUXC_SD1_DATA5__UART2_DTE_RTS	0x140
		>;
	};

	pinctrl_uart3: uart3grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD1_DATA6__UART3_DTE_RX	0x140
			MX8MP_IOMUXC_SD1_DATA7__UART3_DTE_TX	0x140
			MX8MP_IOMUXC_SD1_RESET_B__UART3_DTE_CTS	0x140
			MX8MP_IOMUXC_SD1_STROBE__UART3_DTE_RTS	0x140
		>;
	};

	pinctrl_uart4: uart4grp {
		fsl,pins = <
			MX8MP_IOMUXC_UART4_RXD__UART4_DCE_RX	0x140
			MX8MP_IOMUXC_UART4_TXD__UART4_DCE_TX	0x140
		>;
	};

	pinctrl_usbcon0: usb0congrp {
		fsl,pins = <
			/* ID: floating / high: device, low: host -> use PU */
			MX8MP_IOMUXC_GPIO1_IO10__GPIO1_IO10	0x1c0
		>;
	};

	pinctrl_usb0: usb0grp {
		fsl,pins = <
			/* ID -> via extcon, missing OTG IRQ handling */
			/* PWR -> via regulator @phy */
			/*
			 * TODO: OC detection not functional in dwc3 on i.mx8mq,
			 * pin mux will lead to non functional USB
			 */
			MX8MP_IOMUXC_GPIO1_IO13__USB1_OC	0x1C0
		>;
	};

	pinctrl_usbhub: usbhubgrp {
		fsl,pins = <
			MX8MP_IOMUXC_GPIO1_IO11__GPIO1_IO11	0x10
		>;
	};

	pinctrl_usdhc2: usdhc2grp {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x192
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d2
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d2
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d2
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d2
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d2
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT	0xc0
		>;
	};

	pinctrl_usdhc2_100mhz: usdhc2grp-100mhz {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x194
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d4
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d4
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d4
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d4
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d4
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT 0xc0
		>;
	};

	pinctrl_usdhc2_200mhz: usdhc2grp-200mhz {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CLK__USDHC2_CLK	0x194
			MX8MP_IOMUXC_SD2_CMD__USDHC2_CMD	0x1d4
			MX8MP_IOMUXC_SD2_DATA0__USDHC2_DATA0	0x1d4
			MX8MP_IOMUXC_SD2_DATA1__USDHC2_DATA1	0x1d4
			MX8MP_IOMUXC_SD2_DATA2__USDHC2_DATA2	0x1d4
			MX8MP_IOMUXC_SD2_DATA3__USDHC2_DATA3	0x1d4
			MX8MP_IOMUXC_GPIO1_IO04__USDHC2_VSELECT 0xc0
		>;
	};

	pinctrl_usdhc2_gpio: usdhc2grp-gpio {
		fsl,pins = <
			MX8MP_IOMUXC_SD2_CD_B__GPIO2_IO12	0x1c0
		>;
	};
};
